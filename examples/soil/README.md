Work in progress. Compiles but segfaults.
